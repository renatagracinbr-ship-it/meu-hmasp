================================================================================
  COMO TESTAR NO UBUNTU (WSL) - PASSO A PASSO
================================================================================

üéØ OBJETIVO: Testar o app no Ubuntu/WSL para depois instalar na VM do HMASP


üìù PASSO A PASSO COMPLETO
================================================================================

PASSO 1: Abrir PowerShell
--------------------------
1. Pressione Windows + X
2. Clique em "Windows PowerShell" ou "Terminal"


PASSO 2: Entrar no Ubuntu
--------------------------
Digite no PowerShell:

    wsl

Voc√™ ver√° o prompt mudar para algo como:
    renata@DESKTOP-XXXXX:~$

Isso significa que voc√™ est√° dentro do Ubuntu!


PASSO 3: Navegar at√© o Projeto
-------------------------------
Digite (copie e cole):

    cd "/mnt/c/Users/user/Projetos VS Code/HMASPChat - Marca√ß√£o de Consultas"

Confirme que est√° no lugar certo:

    pwd

Deve mostrar: /mnt/c/Users/user/Projetos VS Code/HMASPChat - Marca√ß√£o de Consultas


PASSO 4: Executar o Setup (PRIMEIRA VEZ APENAS)
------------------------------------------------
Digite:

    ./setup-ubuntu.sh

O script vai:
- Atualizar o sistema
- Verificar Node.js (j√° instalado: v18.19.1)
- Instalar depend√™ncias do sistema
- Executar npm install
- Criar diret√≥rios necess√°rios
- Criar arquivo .env

‚è±Ô∏è Isso pode demorar 2-5 minutos


PASSO 5: Verificar se Tudo OK
------------------------------
Ap√≥s o setup, digite:

    node --version

Deve mostrar: v18.19.1

    npm --version

Deve mostrar: 9.2.0

    ls -la .env

Deve mostrar o arquivo .env


PASSO 6: Iniciar o Servidor
----------------------------
Op√ß√£o A - Modo Simples (terminal fica ocupado):

    node server.js

Voc√™ ver√° as mensagens do servidor aqui.
Para parar: Ctrl+C


Op√ß√£o B - Modo Background (melhor para testes):

    nohup node server.js > server.log 2>&1 &

O servidor roda em segundo plano.


PASSO 7: Verificar se Est√° Rodando
-----------------------------------
Digite:

    ps aux | grep "node server.js" | grep -v grep

Se aparecer uma linha com "node server.js", est√° rodando! ‚úÖ


PASSO 8: Testar no Navegador
-----------------------------
Abra o navegador no Windows e acesse:

    http://localhost:3000

Voc√™ deve ver a interface do HMASP Chat!


PASSO 9: Ver os Logs (se rodou em background)
----------------------------------------------
Para ver o que o servidor est√° fazendo:

    tail -f server.log

Para sair da visualiza√ß√£o: Ctrl+C


PASSO 10: Parar o Servidor
---------------------------
Se rodou em modo simples:
    Ctrl+C no terminal

Se rodou em background:
    pkill -f "node server.js"

Verificar se parou:
    ps aux | grep "node server.js" | grep -v grep

Se n√£o aparecer nada, parou! ‚úÖ


================================================================================
  COMANDOS RESUMIDOS (COPIE E COLE)
================================================================================

# Entrar no Ubuntu
wsl

# Ir para o projeto
cd "/mnt/c/Users/user/Projetos VS Code/HMASPChat - Marca√ß√£o de Consultas"

# Setup (primeira vez)
./setup-ubuntu.sh

# Iniciar servidor
node server.js

# OU em background:
nohup node server.js > server.log 2>&1 &

# Ver se est√° rodando
ps aux | grep "node server.js" | grep -v grep

# Ver logs
tail -f server.log

# Parar servidor
pkill -f "node server.js"


================================================================================
  DEPOIS DE TESTAR AQUI
================================================================================

Quando estiver tudo OK no seu Ubuntu/WSL, para instalar na VM do HMASP:

1. Copie os seguintes arquivos para a VM:
   - setup-ubuntu.sh
   - server.js
   - package.json
   - .env (ajuste as configura√ß√µes!)
   - Toda a pasta "server/"
   - Todos os arquivos do projeto

2. Na VM do HMASP, execute:
   ./setup-ubuntu.sh

3. Configure o .env com as credenciais do HMASP

4. Inicie: node server.js

5. Configure como servi√ßo systemd (para iniciar automaticamente)


================================================================================
  DICAS IMPORTANTES
================================================================================

‚úÖ O Ubuntu do WSL √© LINUX de verdade - mesmos comandos da VM
‚úÖ Tudo que funcionar aqui, funcionar√° na VM do HMASP
‚úÖ Use este ambiente para testar antes de mexer na VM de produ√ß√£o
‚úÖ Os arquivos do Windows ficam em /mnt/c/
‚úÖ Ctrl+C para interromper processos
‚úÖ Ctrl+D ou "exit" para sair do Ubuntu e voltar ao PowerShell


================================================================================
  SOLU√á√ÉO DE PROBLEMAS
================================================================================

Problema: "permission denied"
Solu√ß√£o:  chmod +x setup-ubuntu.sh

Problema: "npm install falha"
Solu√ß√£o:  sudo apt install build-essential python3

Problema: "porta 3000 em uso"
Solu√ß√£o:  pkill -f "node server.js"

Problema: "n√£o acha o arquivo"
Solu√ß√£o:  Confirme que est√° no diret√≥rio certo com: pwd


================================================================================
  PR√ìXIMOS PASSOS
================================================================================

1. ‚òê Abrir PowerShell
2. ‚òê Digitar: wsl
3. ‚òê Navegar: cd "/mnt/c/Users/user/Projetos VS Code/HMASPChat - Marca√ß√£o de Consultas"
4. ‚òê Executar: ./setup-ubuntu.sh
5. ‚òê Iniciar: node server.js
6. ‚òê Testar: http://localhost:3000
7. ‚òê Se funcionar, replicar na VM do HMASP!


================================================================================
Precisa de ajuda? Veja tamb√©m: GUIA-UBUNTU.md
================================================================================
